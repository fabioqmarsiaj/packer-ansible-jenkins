{
  "builders": [
  {
    "type": "docker",
    "image": "openjdk:latest",
    "commit": "true",
    "changes": [
      "EXPOSE 8081",
      "ENTRYPOINT [\"java\",\"-jar\",\"/usr/local/desafio-final/temafinal1-cloud-0.0.1-SNAPSHOT.jar\"]"
    ]
  }],
 "provisioners": [
   {
     "type": "shell",
     "inline": ["mkdir /usr/local/desafio-final"]
   },
   {
      "type": "file",
      "source": "./build/libs/temafinal1-cloud-0.0.1-SNAPSHOT.jar",
      "destination": "/usr/local/desafio-final/temafinal1-cloud-0.0.1-SNAPSHOT.jar"
   },
   {
     "type": "ansible",
     "playbook_file": "playbook.yml"
   }
  ],
  "post-processors": [
    [
      {
        "type": "docker-tag",
        "repository": "fabioqmarsiaj/cloudnative",
        "tag": "latest"
      },
      {
        "type": "docker-push",
        "login": "true",
        "login_username": "fabioqmarsiaj",
        "login_password": "z26y25x24"
      }
    ]
  ]
}
